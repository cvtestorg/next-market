# 数据模型

## 文档版本
- 版本：1.0
- 更新日期：2025-01-10

---

## 1. 插件 (Plugin)

```
- id: 插件ID
- name: 插件名称
- description: 插件描述（富文本）
- icon: 插件图标
- category: 插件分类
- sourceType: 来源类型（官方/局域/个人）
- priceType: 付费类型（免费/收费）
- price: 价格
- priceMode: 收费模式（一次性/订阅）
- authorId: 作者ID
- status: 审核状态
- createdAt: 创建时间
- updatedAt: 更新时间
```

## 2. 插件版本 (PluginVersion)

```
- id: 版本ID
- pluginId: 插件ID
- version: 版本号
- changelog: 更新日志
- packageUrl: 安装包地址
- createdAt: 发布时间
```

## 3. 插件配置定义 (PluginConfigSchema)

```
- id: 配置ID
- pluginId: 插件ID
- configType: 配置类型（企业/个人）
- name: 配置项名称
- key: 配置项Key
- type: 配置项类型
- options: 选项列表（JSON）
- description: 描述
- defaultValue: 默认值
- validation: 验证规则
- example: 示例值
- required: 是否必填
- sortOrder: 排序
```

## 4. 用户插件安装 (UserPluginInstall)

```
- id: 安装ID
- userId: 用户ID
- pluginId: 插件ID
- versionId: 安装版本ID
- status: 运行状态（运行中/已停止）
- installedAt: 安装时间
```

## 5. 用户插件配置 (UserPluginConfig)

```
- id: 配置ID
- userId: 用户ID
- pluginId: 插件ID
- configKey: 配置Key
- configValue: 配置值
```

## 6. 企业插件配置 (OrgPluginConfig)

```
- id: 配置ID
- orgId: 企业ID
- pluginId: 插件ID
- configKey: 配置Key
- configValue: 配置值
```

## 7. 权限申请 (PermissionRequest)

```
- id: 申请ID
- userId: 申请用户ID
- pluginId: 插件ID
- reason: 申请理由
- status: 申请状态（审核中/通过/拒绝）
- rejectReason: 拒绝原因
- reviewerId: 审核人ID
- createdAt: 申请时间
- reviewedAt: 审核时间
```

## 8. 用户插件权限 (UserPluginPermission)

```
- id: 权限ID
- userId: 用户ID
- pluginId: 插件ID
- grantType: 授权方式（购买/分配/申请通过）
- expireAt: 过期时间（订阅模式）
- createdAt: 授权时间
```