# 状态机与业务规则

## 文档版本
- 版本：1.0
- 更新日期：2025-01-10

---

## 1. 状态机定义

### 1.1 插件审核状态

```
[提交] → 审核中 → [通过] → 已认证 → [下架] → 已下架
                ↓                      ↑
              [拒绝] → 被拒绝 → [重新提交] → 审核中
```

### 1.2 权限申请状态

```
[提交] → 审核中 → [通过] → 已通过
                ↓
              [拒绝] → 已拒绝 → [重新申请] → 审核中
```

### 1.3 插件安装状态

```
未安装 → [安装] → 已安装-运行中 ⇄ [停止/启动] ⇄ 已安装-已停止
                      ↓
                   [卸载] → 未安装
```

## 2. 业务规则

### 2.1 权限规则

1. 免费插件：所有用户默认拥有使用权限
2. 收费插件：购买后获得使用权限
3. 局域插件：仅本企业用户可见和使用
4. 个人插件：需申请或购买后获得使用权限

### 2.2 审核规则

1. 官方插件无需审核，直接上架
2. 局域插件需企业管理员审核
3. 个人插件需平台审核
4. 权限申请需企业管理员审核

### 2.3 配置优先级

1. 个人配置优先级高于企业配置
2. 企业配置作为默认值，用户可覆盖（如果允许）
3. 部分配置可设置为仅企业管理员可修改