# 接口设计

## 文档版本
- 版本：1.0
- 更新日期：2025-01-10

---

## 1. 插件市场

| 接口 | 方法 | 说明 |
|------|------|------|
| /api/plugins | GET | 获取插件列表（支持搜索和筛选） |
| /api/plugins/:id | GET | 获取插件详情 |
| /api/plugins/:id/versions | GET | 获取插件版本列表 |
| /api/plugins/:id/config-schema | GET | 获取插件配置定义 |

## 2. 插件操作

| 接口 | 方法 | 说明 |
|------|------|------|
| /api/plugins/:id/install | POST | 安装插件 |
| /api/plugins/:id/uninstall | POST | 卸载插件 |
| /api/plugins/:id/start | POST | 启动插件 |
| /api/plugins/:id/stop | POST | 停止插件 |
| /api/plugins/:id/update | POST | 更新插件版本 |
| /api/plugins/:id/purchase | POST | 购买插件 |

## 3. 插件配置

| 接口 | 方法 | 说明 |
|------|------|------|
| /api/plugins/:id/config/personal | GET | 获取个人配置 |
| /api/plugins/:id/config/personal | PUT | 保存个人配置 |
| /api/plugins/:id/config/org | GET | 获取企业配置 |
| /api/plugins/:id/config/org | PUT | 保存企业配置 |

## 4. 权限申请

| 接口 | 方法 | 说明 |
|------|------|------|
| /api/permission-requests | POST | 提交权限申请 |
| /api/permission-requests | GET | 获取我的申请列表 |
| /api/permission-requests/:id/review | POST | 审核权限申请 |

## 5. 插件管理（开发者）

| 接口 | 方法 | 说明 |
|------|------|------|
| /api/my-plugins | GET | 获取我上传的插件 |
| /api/my-plugins | POST | 上传新插件 |
| /api/my-plugins/:id | PUT | 更新插件信息 |
| /api/my-plugins/:id | DELETE | 删除插件 |
| /api/my-plugins/:id/versions | POST | 发布新版本 |
| /api/my-plugins/:id/price | PUT | 设置价格 |